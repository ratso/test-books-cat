<?php/** * index.php * Тестовый проект "Список книг" * Дря реализации использовались: * 	- PHP framework fatFree (http://fatfreeframework.com/home) *  - JS библиотека jQuery *  - CCS Фреймворк Twitter Bootstrap http://twitter.github.com/bootstrap/ *///Подгружаем загрузчоный файл фреймворка$f3=require('lib/base.php');//Настройки фреймворка$f3->set('DEBUG',3);if ((float)PCRE_VERSION<7.9)	trigger_error('PCRE version is out of date');// Загрузка конфигурации$f3->config('config.ini');//Настраиваем базу данных$f3->set('DB',    new DB\SQL(        $f3->get('PDO_DSN'),        $f3->get('PDO_LOGIN'),        $f3->get('PDO_PASSWORD')    ));function isAjax() {	return (isset($_SERVER['HTTP_X_REQUESTED_WITH']) &&	($_SERVER['HTTP_X_REQUESTED_WITH'] == 'XMLHttpRequest'));}$f3->set('AUTOLOAD', 'modules/; models/');// Укажем роутеру, что при запросе к индексной странице необходимо рендерить стандарный шаблон$f3->route('GET /', function($f3) {    //Устанавливаем заголово страницы    $f3->set('html_title', 'Список книг');    //Загружаем шаблон страницы    $f3->set('content', 'index_page.htm');    //Запускаем обработку шаблонизатора    echo \Template::instance()->render('layout.html');});$f3->map('/books','Book');$f3->map('/books/@book_id','Book');//Запуск приложения$f3->run();